(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{248:function(e,o,n){e.exports=n(249)},249:function(e,o,n){"use strict";n.r(o);n(250),n(251);n(225).setBackend("cpu");var t=n(272);Promise.all([t.nets.faceRecognitionNet.loadFromUri("./models"),t.nets.faceLandmark68TinyNet.loadFromUri("./models"),t.nets.faceExpressionNet.loadFromUri("./models"),t.nets.tinyFaceDetector.loadFromUri("./models")]).then(function(){null==window.localStorage.getItem("descriptor")?function(){var e=document.getElementById("imageUpload");console.log("Ready"),e.addEventListener("change",function(){var o=t.bufferToImage(e.files[0]);o.then(function(e){console.log("Image loaded");var o=t.detectSingleFace(e,new t.TinyFaceDetectorOptions).withFaceLandmarks(!0).withFaceDescriptor();o.then(function(e){console.log("Detection loaded"),console.log(e.descriptor);var o=JSON.stringify(e.descriptor);console.log("saving...");var n=window.localStorage;n.setItem("descriptor",o),window.location.reload()})})})}():function(){var e=document.getElementById("imageUpload"),o=["neutral","happy","sad","angry","surprised"];console.log("loading...");var n=window.localStorage.getItem("descriptor"),a=[],r=JSON.parse(n);for(var i in r)a.push(r[i]);var s=Float32Array.from(a);(a=[]).push(s);var c=new t.LabeledFaceDescriptors("john",a),l=new t.FaceMatcher(c,.4);console.log("Loaded");console.log("Please upload an image with the following emotion: "+o[4]),e.addEventListener("change",function(){var n=t.bufferToImage(e.files[0]);n.then(function(e){var n=t.detectSingleFace(e,new t.TinyFaceDetectorOptions).withFaceLandmarks(!0).withFaceExpressions().withFaceDescriptor();n.then(function(e){var n=e.expressions.asSortedArray();if(console.log(n[0].expression),n[0].probability>=.4&&n[0].expression===o[4]){var t=l.findBestMatch(e.descriptor),a=t.distance;a<=.4?alert("You are John"):alert("you are not John. \ntry again.")}else alert("Liveness Test Failed")})})})}()})},251:function(e,o,n){},258:function(e,o){},259:function(e,o){},267:function(e,o){},270:function(e,o){},271:function(e,o){}},[[248,1,2]]]);
//# sourceMappingURL=main.9b3910ba.chunk.js.map