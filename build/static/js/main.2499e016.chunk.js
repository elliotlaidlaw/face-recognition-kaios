(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{248:function(e,o,n){e.exports=n(249)},249:function(e,o,n){"use strict";n.r(o);n(250),n(251);console.time("LOADING");var t=["neutral","happy","sad","angry","fearful","disgusted","surprised"];n(225).setBackend("cpu");var a=n(272),s=document.getElementById("imageUpload");Promise.all([a.nets.faceRecognitionNet.loadFromUri("./models"),a.nets.faceLandmark68TinyNet.loadFromUri("./models"),a.nets.tinyFaceDetector.loadFromUri("./models"),a.nets.faceExpressionNet.loadFromUri("./models")]).then(function(){for(var e=1;e<=3;e++){var o,n=new XMLHttpRequest;n.open("GET","./descriptors/".concat(e,".json"),!1),n.send(),200==n.status&&(o=n.responseText);var r=[],i=JSON.parse(o);for(var c in i)r.push(i[c]);var l=Float32Array.from(r);(r=[]).push(l)}var d=new a.LabeledFaceDescriptors("john",r),p=new a.FaceMatcher(d,.4),u=Math.floor(7*Math.random());console.log("Please upload an image with the following emotion: "+t[u]),console.timeEnd("LOADING"),console.log("Ready"),s.addEventListener("change",function(){console.time("MATCHING");var e=a.bufferToImage(s.files[0]);e.then(function(e){console.log("Image loaded");var o=a.detectSingleFace(e,new a.TinyFaceDetectorOptions).withFaceLandmarks(!0).withFaceExpressions().withFaceDescriptor();o.then(function(e){var o=e.expressions.asSortedArray();if(console.log(o[0].expression),o[0].probability>=.4&&o[0].expression===t[u]){var n=p.findBestMatch(e.descriptor),a=n.distance;a<=.4?(console.timeEnd("MATCHING"),alert("You are John")):(console.timeEnd("MATCHING"),alert("you are not John. \ntry again."))}else console.timeEnd("MATCHING"),alert("Liveness Test Failed")})})})})},251:function(e,o,n){},258:function(e,o){},259:function(e,o){},267:function(e,o){},270:function(e,o){},271:function(e,o){}},[[248,1,2]]]);
//# sourceMappingURL=main.2499e016.chunk.js.map